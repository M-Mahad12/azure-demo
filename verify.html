<!DOCTYPE html>
<html>
<head>
    <title>Custom Azure AD B2C Page</title>
    <link rel="stylesheet" type="text/css" data-preload="true" href="https://m-mahad12.github.io/azure-demo/verify.css">
</head>
<body>
    <div class="container1">
        <div style="display: flex;flex-direction: column;justify-content: center;align-items: center;">
            <img src="https://m-mahad12.github.io/azure-demo/twelogo.png">
        </div>
        <div id="api"></div>

        <script>
            function clickContinueButton() {
                try {
                    const continueButton = document.getElementById('continue');
                    if (continueButton) {
                        console.log('Button found');
                        setTimeout(function() {
                            continueButton.click();
                        }, 3000);
                    } else {
                        console.log('Button Not found');
                    }
                } catch (error) {
                    console.error('Error in clickContinueButton:', error);
                }
            }
        
            window.onload = function() {
                try {
                    setInterval(function() {
                        try {
                            const isEmailVerified = document.getElementById('email_success');
                            if (isEmailVerified && window.getComputedStyle(isEmailVerified).display == 'none') {
                                console.log('email_success element found and visible');
                                clickContinueButton();
                            } else {
                                console.log('email_success element not found or not visible');
                            }
                        } catch (error) {
                            console.error('Error in setInterval callback:', error);
                        }
                    }, 500);
                } catch (error) {
                    console.error('Error in window.onload:', error);
                }
            };
        </script>
        
</body>
</html>
